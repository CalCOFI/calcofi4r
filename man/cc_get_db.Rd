% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/database.R
\name{cc_get_db}
\alias{cc_get_db}
\title{Connect to CalCOFI Database}
\usage{
cc_get_db(
  version = "latest",
  local_cache = TRUE,
  cache_dir = NULL,
  refresh = FALSE
)
}
\arguments{
\item{version}{Version string (e.g., "v2026.02") or "latest" (default)}

\item{local_cache}{Use local cache if available (default: TRUE)}

\item{cache_dir}{Directory for local cache. Default uses
\code{rappdirs::user_cache_dir("calcofi4r")} if rappdirs is installed,
otherwise a temp directory.}

\item{refresh}{Force re-download even if cached (default: FALSE)}
}
\value{
DuckDB connection object
}
\description{
Connects to a frozen CalCOFI DuckLake release. Downloads and caches the
database locally for fast subsequent access.
}
\details{
The frozen releases contain clean, stable data without provenance columns,
suitable for analysis and visualization. Use \code{cc_list_versions()} to
see available releases.

The connection points to Parquet files from the frozen release, which are
registered as views in DuckDB. This allows querying the data without
downloading the entire database.

Data is stored at \code{gs://calcofi-db/ducklake/releases/{version}/}.
}
\examples{
\dontrun{
# connect to latest release
con <- cc_get_db()
DBI::dbListTables(con)

# connect to specific version
con <- cc_get_db(version = "v2026.02")

# query data
DBI::dbGetQuery(con, "SELECT COUNT(*) FROM larvae")
}
}
\concept{database}
