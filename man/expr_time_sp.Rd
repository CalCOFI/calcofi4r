% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{expr_time_sp}
\alias{expr_time_sp}
\title{Generate Time Aggregation Expression for Species Data}
\usage{
expr_time_sp(ts_res)
}
\arguments{
\item{ts_res}{Character string specifying temporal resolution: "year", "quarter",
"month", "day", "year_quarter", "year_month", or "year_day"}
}
\value{
Expression object suitable for use in \code{dplyr::mutate()} with dbplyr
}
\description{
Creates a SQL-based expression for temporal aggregation of species time series
using DuckDB date functions. Used internally by \code{\link{prep_ts_sp}}.
}
\details{
For seasonal aggregation (\code{ts_res = "quarter"}), all quarters are
normalized to year 2000 to enable cyclic plotting. Uses DuckDB's
\code{date_trunc()} and \code{extract()} functions for database-side computation.
}
\examples{
\dontrun{
df_sp |> mutate(time = !!expr_time_sp("year"))
}

}
\seealso{
\code{\link{prep_ts_sp}} for usage context
}
\keyword{internal}
